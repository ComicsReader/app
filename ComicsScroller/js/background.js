!function(e){function t(r){if(c[r])return c[r].exports;var o=c[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var c={};return t.m=e,t.c=c,t.p="",t(0)}({0:function(e,t,c){var r=c(13)["default"],o=c(4),n=c(5),i=c(6),a={collected:[]},s={readed:[]},l={update:[]},h=function(e,t,c){if(n.regex.test(c.url)&&"loading"===t.status){var r=n.regex.exec(c.url)[1];chrome.tabs.update(c.id,{url:chrome.extension.getURL("reader.html")+"#/site/comics8/chapter/"+r}),ga("send","event","8comics view")}else if(o.regex.test(c.url)&&"loading"===t.status){var r=o.regex.exec(c.url)[1];chrome.tabs.update(c.id,{url:chrome.extension.getURL("reader.html")+"#/site/sf/chapter/"+r}),ga("send","event","sf view")}else if((i.regex.test(c.url)||i.dm5regex.test(c.url))&&"loading"===t.status){var r="";r=i.dm5regex.test(c.url)?i.dm5regex.exec(c.url)[2]:i.regex.exec(c.url)[1],chrome.tabs.update(c.id,{url:chrome.extension.getURL("reader.html")+"#/site/dm5/chapter/"+r}),ga("send","event","dm5 view")}};chrome.notifications.onClicked.addListener(function(e){chrome.tabs.create({url:e})});var u=function(){chrome.storage.local.get("collected",function(e){for(var t=0;t<e.collected.length;++t){var c=e.collected[t].url,r=e.collected[t].menuItems,a=new XMLHttpRequest;a.open("GET",c),a.responseType="document","sf"===e.collected[t].site?a.onload=function(e,t,c,r,o,n){return function(){n.backgroundOnload(e,t,c,r,o)}}(c,r,a,e,t,o):"comics8"===e.collected[t].site?a.onload=function(e,t,c,r,o,n){return function(){n.backgroundOnload(e,t,c,r,o)}}(c,r,a,e,t,n):"dm5"===e.collected[t].site&&(a.onload=function(e,t,c,r,o,n){return function(){n.backgroundOnload(e,t,c,r,o)}}(c,r,a,e,t,i)),a.send()}})};chrome.tabs.onUpdated.addListener(h),chrome.storage.local.get("readed",function(e){var t=r(s,e);chrome.storage.local.set(t)}),chrome.storage.local.get("update",function(e){var t=r(l,e);chrome.storage.local.set(t)}),chrome.storage.local.get("collected",function(e){var t=r(a,e);chrome.storage.local.set(t,function(){setInterval(function(){u()},6e4)})}),function(e,t,c,r,o,n,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,n=t.createElement(c),i=t.getElementsByTagName(c)[0],n.alocal=1,n.src=r,i.parentNode.insertBefore(n,i)}(window,document,"script","https://ssl.google-analytics.com/analytics.js","ga"),ga("create","UA-59728771-1","auto"),ga("set","checkProtocolTask",null),ga("send","pageview")},4:function(module,exports,__webpack_require__){var comics={regex:/http\:\/\/comic\.sfacg\.com\/(HTML\/[^\/]+\/.+)$/,baseURL:"http://comic.sfacg.com/",handleUrlHash:function(){var e=window.location.hash;if(this.site=/site\/(\w*)\//.exec(e)[1],this.pageURL=/chapter\/(HTML\/[^\/]+\/)/.exec(e)[1],this.chapterURL=this.baseURL+/chapter\/(.*)$/.exec(e)[1],this.indexURL=this.baseURL+this.pageURL,/#$/.test(e))this.chapterURL=this.baseURL+/chapter\/(.*\/)#$/.exec(e)[1],window.history.replaceState("",document.title,"#/site/sf/chapter/"+/chapter\/(.*\/)#$/.exec(e)[1]);else{document.getElementById("comics_panel").innerHTML="";for(var t=-1,c=0;c<this.state.menuItems.size;++c)if(this.state.menuItems.get(c).get("payload")===this.chapterURL){t=c,this.lastIndex=t,this._getImage(t,this.chapterURL);break}}},getChapter:function(e){var t=e.querySelectorAll(".serialise_list>li>a");return t},getTitleName:function(e){return e.querySelector("body > table:nth-child(8) > tbody > tr > td:nth-child(1) > table:nth-child(2) > tbody > tr > td > h1 > b").textContent},getCoverImg:function(e){return e.querySelector(".comic_cover>img").src},setImages:function setImages(index,xhr){eval(xhr.response);var name="picHost=",picHost=hosts[0],img=[];this.pageMax=picCount;for(var i=0;i<this.pageMax;i++)img[i]=picHost+picAy[i];this.images=img,this.appendImage(index)},backgroundOnload:function(e,t,c,r,o){for(var n=c.response,i=this.getChapter(n),a=this.getTitleName(n),s=this.getCoverImg(n),l=[],h={},u=0;u<i.length;++u){var d={};d.payload=i[u].href,d.text=i[u].textContent,l.push(d);for(var m=!1,g=0;g<t.length;++g)if(t[g].payload===d.payload){m=!0;break}if(!m&&t.length>0){var h={url:e,title:a,site:"sf",iconUrl:s,lastReaded:d};chrome.notifications.create(d.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+h.lastReaded.text,imageUrl:s}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(h))}}r.collected[o].menuItems=l,chrome.storage.local.set(r)}};module.exports=comics},5:function(module,exports,__webpack_require__){var comics={regex:/http\:\/\/new\.comicvip\.com\/show\/(.*-\d*.html\?ch=\d*)/,baseURL:"http://new.comicvip.com/show/",comicspageURL:"http://www.comicvip.com/html/",handleUrlHash:function(){var e=window.location.hash;if(this.site=/site\/(\w*)/.exec(e)[1],this.pageURL=/chapter\/.*-(\d*\.html)\?/.exec(e)[1],this.chapterNum=/chapter\/.*\?ch\=(\d*)/.exec(e)[1],this.prefixURL=/chapter\/(.*\?ch\=)\d*/.exec(e)[1],this.indexURL=this.comicspageURL+this.pageURL,/#$/.test(e))window.history.replaceState("",document.title,"#/site/comics8/chapter/"+/chapter\/(.*)#$/.exec(e)[1]);else{document.getElementById("comics_panel").innerHTML="";for(var t=-1,c=0;c<this.state.menuItems.size;++c)if(this.state.menuItems.get(c).get("payload")===this.baseURL+this.prefixURL+this.chapterNum){t=c,this.lastIndex=t,this._getImage(t,this.chapterNum);break}}},getChapter:function(e){return e.querySelectorAll(".Vol , .ch , #lch")},getChapterUrl:function(e){var t=/cview\(\'(.*-\d*\.html)\',(\d*)/.exec(e),c=t[2],r=t[1],o="";return(4==c||6==c||12==c||22==c)&&(o="http://new.comicvip.com/show/cool-"),(1==c||17==c||19==c||21==c)&&(o="http://new.comicvip.com/show/cool-"),(2==c||5==c||7==c||9==c)&&(o="http://new.comicvip.com/show/cool-"),(10==c||11==c||13==c||14==c)&&(o="http://new.comicvip.com/show/best-manga-"),(3==c||8==c||15==c||16==c||18==c||20==c)&&(o="http://new.comicvip.com/show/best-manga-"),r=r.replace(".html","").replace("-",".html?ch="),o+r},getTitleName:function(e){return e.querySelector("body > table:nth-child(7) > tbody > tr > td > table > tbody > tr:nth-child(1) > td:nth-child(2) > table:nth-child(1) > tbody > tr:nth-child(1) > td > table > tbody > tr > td:nth-child(2) > font").textContent},getCoverImg:function(e){return e.querySelector("body > table:nth-child(7) > tbody > tr > td > table > tbody > tr:nth-child(1) > td:nth-child(1) > img").src},setImages:function setImages(index,doc){var script=doc.evaluate('//*[@id="Form1"]/script/text()',doc,null,XPathResult.ANY_TYPE,null).iterateNext().textContent.split("eval")[0];eval(script);var ch=/.*ch\=(.*)/.exec(doc.URL)[1];ch.indexOf("#")>0&&(ch=ch.split("#")[0]);var p=1,f=50;ch.indexOf("-")>0&&(p=parseInt(ch.split("-")[1]),ch=ch.split("-")[0]),ch=""==ch?1:parseInt(ch);for(var ss=function(e,t,c,r){var o=e.substring(t,t+c);return null==r?o.replace(/[a-z]*/gi,""):o},nn=function(e){return 10>e?"00"+e:100>e?"0"+e:e},mm=function(e){return parseInt((e-1)/10)%10+(e-1)%10*3},c="",cc=cs.length,j=0;cc/f>j;j++)if(ss(cs,j*f,4)==ch){c=ss(cs,j*f,f,f),ci=j;break}""==c&&(c=ss(cs,cc-f,f),ch=c),ps=ss(c,7,3),this.pageMax=ps;for(var img=[],i=0;i<this.pageMax;++i){for(var c="",cc=cs.length,j=0;cc/f>j;j++)if(ss(cs,j*f,4)==ch){c=ss(cs,j*f,f,f),ci=j;break}""==c&&(c=ss(cs,cc-f,f),ch=chs),img[i]="http://img"+ss(c,4,2)+".8comic.com/"+ss(c,6,1)+"/"+ti+"/"+ss(c,0,4)+"/"+nn(i+1)+"_"+ss(c,mm(i+1)+10,3,f)+".jpg"}this.images=img,this.appendImage(index)},backgroundOnload:function(e,t,c,r,o){var n=c.response,i=this.getChapter(n),a=this.getTitleName(n),s=this.getCoverImg(n),l=[],h={},u={};u.payload=Comics_8.getChapterUrl(i[i.length-2].getAttribute("onclick")),u.text=i[i.length-1].textContent,l.push(u);for(var d=!1,m=0;m<t.length;++m)if(t[m].payload===u.payload){d=!0;break}if(d===!1&&t.length>0){var h={url:e,title:a,site:"comics8",iconUrl:s,lastReaded:u};chrome.notifications.create(u.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+h.lastReaded.text,imageUrl:s}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(h))}for(var g=i.length-3;g>=0;--g){var u={};u.payload=Comics_8.getChapterUrl(i[g].getAttribute("onclick")),u.text=i[g].textContent.trim(),l.push(u);for(var h={},d=!1,m=0;m<t.length;++m)if(t[m].payload===u.payload){d=!0;break}d===!1&&t.length>0&&(h={url:e,title:a,site:"comics8",iconUrl:s,lastReaded:u},chrome.notifications.create(u.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+h.lastReaded.text,imageUrl:s}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(h)))}r.collected[o].menuItems=l,chrome.storage.local.set(r)}};module.exports=comics},6:function(module,exports,__webpack_require__){var comics={regex:/http\:\/\/www\.manben\.com\/(m\d*\/)/,dm5regex:/http\:\/\/(tel||www)\.dm5\.com\/(m\d*\/)/,baseURL:"http://www.manben.com/",handleUrlHash:function(){var e=window.location.hash;if(this.site=/site\/(.*)\/chapter/.exec(e)[1],this.chapterURL=this.baseURL+/chapter\/(.*\/)/.exec(e)[1],/#$/.test(e))window.history.replaceState("",document.title,"#/site/dm5/chapter/"+/chapter\/(.*\/)/.exec(e)[1]);else{document.getElementById("comics_panel").innerHTML="";for(var t=-1,c=0;c<this.state.menuItems.size;++c)if(this.state.menuItems.get(c).get("payload")===this.chapterURL){t=c,this.lastIndex=t,this._getImage(t,this.chapterURL);break}}},getChapter:function(e){var t=e.querySelectorAll(".nr6.lan2>li>.tg");return t},getTitleName:function(e){return e.querySelector(".inbt_title_h2").textContent},getCoverImg:function(e){return e.querySelector(".innr91>img").src},setImages:function setImages(index,xhr){var doc=xhr.response,script1=/<script type\=\"text\/javascript\">(.*)reseturl/.exec(doc.head.innerHTML)[1];eval(script1),this.pageMax=DM5_IMAGE_COUNT;for(var img=[],i=0;i<this.pageMax;++i)img[i]=doc.URL+"chapterfun.ashx?cid="+DM5_CID.toString()+"&page="+(i+1)+"&key=&language=1";this.images=img,this.appendImage(index)},backgroundOnload:function(e,t,c,r,o){for(var n=c.response,i=this.getChapter(n),a=this.getTitleName(n),s=this.getCoverImg(n),l=[],h=0;h<i.length;++h){var u={};u.payload=i[h].href,u.text=i[h].textContent,l.push(u);for(var d=!1,m=0;m<t.length;++m)if(t[m].payload===u.payload){d=!0;break}if(d===!1&&t.length>0){var g={url:e,title:a,site:"dm5",iconUrl:s,lastReaded:u};chrome.notifications.create(u.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+g.lastReaded.text,imageUrl:s}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(g))}}r.collected[o].menuItems=l,chrome.storage.local.set(r)}};module.exports=comics},13:function(e,t,c){e.exports={"default":c(151),__esModule:!0}},151:function(e,t,c){c(273),e.exports=c(274).core.Object.assign},273:function(e,t,c){var r=c(323);r(r.S,"Object",{assign:c(324)})},274:function(e,t,c){"use strict";function r(e){return isNaN(e=+e)?0:(e>0?p:g)(e)}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function n(e,t,c){return e[t]=c,e}function i(e){return b?function(t,c,r){return y.setDesc(t,c,o(e,r))}:n}function a(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function s(e){return"function"==typeof e}function l(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var h="undefined"!=typeof self?self:Function("return this")(),u={},d=Object.defineProperty,m={}.hasOwnProperty,g=Math.ceil,p=Math.floor,f=Math.max,x=Math.min,b=!!function(){try{return 2==d({},"a",{get:function(){return 2}}).a}catch(e){}}(),v=i(1),y=e.exports=c(322)({g:h,core:u,html:h.document&&document.documentElement,isObject:a,isFunction:s,it:function(e){return e},that:function(){return this},toInteger:r,toLength:function(e){return e>0?x(r(e),9007199254740991):0},toIndex:function(e,t){return e=r(e),0>e?f(e+t,0):x(e,t)},has:function(e,t){return m.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:b,desc:o,getDesc:Object.getOwnPropertyDescriptor,setDesc:d,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:l,ES5Object:Object,toObject:function(e){return y.ES5Object(l(e))},hide:v,def:i(0),set:h.Symbol?n:v,mix:function(e,t){for(var c in t)v(e,c,t[c]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=u),"undefined"!=typeof __g&&(__g=h)},322:function(e,t,c){e.exports=function(e){return e.FW=!1,e.path=e.core,e}},323:function(e,t,c){function r(e,t){return function(){return e.apply(t,arguments)}}function o(e,t,c){var l,h,u,d,m=e&o.G,g=m?i:e&o.S?i[t]:(i[t]||{}).prototype,p=m?a:a[t]||(a[t]={});m&&(c=t);for(l in c)h=!(e&o.F)&&g&&l in g,h&&l in p||(u=h?g[l]:c[l],m&&!s(g[l])?d=c[l]:e&o.B&&h?d=r(u,i):e&o.W&&g[l]==u?!function(e){d=function(t){return this instanceof e?new e(t):e(t)},d.prototype=e.prototype}(u):d=e&o.P&&s(u)?r(Function.call,u):u,n.hide(p,l,d))}var n=c(274),i=n.g,a=n.core,s=n.isFunction;o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,e.exports=o},324:function(e,t,c){var r=c(274),o=c(342);e.exports=Object.assign||function(e,t){for(var c=Object(r.assertDefined(e)),n=arguments.length,i=1;n>i;)for(var a,s=r.ES5Object(arguments[i++]),l=o(s),h=l.length,u=0;h>u;)c[a=l[u++]]=s[a];return c}},342:function(e,t,c){var r=c(274);e.exports=function(e){var t=r.getKeys(e),c=r.getDesc,o=r.getSymbols;return o&&r.each.call(o(e),function(r){c(e,r).enumerable&&t.push(r)}),t}}});