!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){var r=n(13)["default"],o=n(1),i=n(2),s=n(3),a={collected:[]},u={readed:[]},c={update:[]},l=function(e,t,n){if(i.regex.test(n.url)&&"loading"===t.status){var r=i.regex.exec(n.url)[1];chrome.tabs.update(n.id,{url:chrome.extension.getURL("reader.html")+"#/site/comics8/chapter/"+r}),ga("send","event","8comics view")}else if(o.regex.test(n.url)&&"loading"===t.status){var r=o.regex.exec(n.url)[1];chrome.tabs.update(n.id,{url:chrome.extension.getURL("reader.html")+"#/site/sf/chapter/"+r}),ga("send","event","sf view")}else if((s.regex.test(n.url)||s.dm5regex.test(n.url))&&"loading"===t.status){var r="";r=s.dm5regex.test(n.url)?s.dm5regex.exec(n.url)[2]:s.regex.exec(n.url)[1],chrome.tabs.update(n.id,{url:chrome.extension.getURL("reader.html")+"#/site/dm5/chapter/"+r}),ga("send","event","dm5 view")}};chrome.notifications.onClicked.addListener(function(e){chrome.tabs.create({url:e})});var p=function(){chrome.storage.local.get("collected",function(e){for(var t=0;t<e.collected.length;++t){var n=e.collected[t].url,r=e.collected[t].menuItems,a=new XMLHttpRequest;a.open("GET",n),a.responseType="document","sf"===e.collected[t].site?a.onload=function(e,t,n,r,o,i){return function(){i.backgroundOnload(e,t,n,r,o)}}(n,r,a,e,t,o):"comics8"===e.collected[t].site?a.onload=function(e,t,n,r,o,i){return function(){i.backgroundOnload(e,t,n,r,o)}}(n,r,a,e,t,i):"dm5"===e.collected[t].site&&(a.onload=function(e,t,n,r,o,i){return function(){i.backgroundOnload(e,t,n,r,o)}}(n,r,a,e,t,s)),a.send()}})};chrome.tabs.onUpdated.addListener(l),chrome.storage.local.get("readed",function(e){var t=r(u,e);chrome.storage.local.set(t)}),chrome.storage.local.get("update",function(e){var t=r(c,e);chrome.storage.local.set(t)}),chrome.storage.local.get("collected",function(e){var t=r(a,e);chrome.storage.local.set(t,function(){setInterval(function(){p()},6e4)})}),function(e,t,n,r,o,i,s){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),s=t.getElementsByTagName(n)[0],i.alocal=1,i.src=r,s.parentNode.insertBefore(i,s)}(window,document,"script","https://ssl.google-analytics.com/analytics.js","ga"),ga("create","UA-59728771-1","auto"),ga("set","checkProtocolTask",null),ga("send","pageview")},1:function(module,exports,__webpack_require__){var comics={regex:/http\:\/\/comic\.sfacg\.com\/(HTML\/[^\/]+\/.+)$/,baseURL:"http://comic.sfacg.com/",handleUrlHash:function(){var e=window.location.hash;if(this.site=/site\/(\w*)\//.exec(e)[1],this.pageURL=/chapter\/(HTML\/[^\/]+\/)/.exec(e)[1],this.chapterURL=this.baseURL+/chapter\/(.*)$/.exec(e)[1],this.indexURL=this.baseURL+this.pageURL,/#$/.test(e))this.chapterURL=this.baseURL+/chapter\/(.*\/)#$/.exec(e)[1],window.history.replaceState("",document.title,"#/site/sf/chapter/"+/chapter\/(.*\/)#$/.exec(e)[1]);else{document.getElementById("comics_panel").innerHTML="";for(var t=-1,n=0;n<this.state.menuItems.length;++n)if(this.state.menuItems[n].payload===this.chapterURL&&-1===t){t=n,this.lastIndex=t,this._getImage(t,this.chapterURL);break}}},getChapter:function(e){var t=e.querySelectorAll(".serialise_list>li>a");return t},getTitleName:function(e){return e.querySelector("body > table:nth-child(8) > tbody > tr > td:nth-child(1) > table:nth-child(2) > tbody > tr > td > h1 > b").textContent},getCoverImg:function(e){return e.querySelector(".comic_cover>img").src},setImages:function setImages(index,xhr){eval(xhr.response);var name="picHost=",picHost=hosts[0],img=[];this.pageMax=picCount;for(var i=0;i<this.pageMax;i++)img[i]=picHost+picAy[i];this.images=img,this.appendImage(index)},backgroundOnload:function(e,t,n,r,o){for(var i=n.response,s=this.getChapter(i),a=this.getTitleName(i),u=this.getCoverImg(i),c=[],l={},p=0;p<s.length;++p){var h={};h.payload=s[p].href,h.text=s[p].textContent,c.push(h);for(var d=!1,f=0;f<t.length;++f)if(t[f].payload===h.payload){d=!0;break}if(!d&&t.length>0){var l={url:e,title:a,site:"sf",iconUrl:u,lastReaded:h};chrome.notifications.create(h.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+l.lastReaded.text,imageUrl:u}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(l))}}r.collected[o].menuItems=c,chrome.storage.local.set(r)}};module.exports=comics},2:function(module,exports,__webpack_require__){var comics={regex:/http\:\/\/new\.comicvip\.com\/show\/(.*-\d*.html\?ch=\d*)/,baseURL:"http://new.comicvip.com/show/",comicspageURL:"http://www.comicvip.com/html/",handleUrlHash:function(){var e=window.location.hash;if(this.site=/site\/(\w*)/.exec(e)[1],this.pageURL=/chapter\/.*-(\d*\.html)\?/.exec(e)[1],this.chapterNum=/chapter\/.*\?ch\=(\d*)/.exec(e)[1],this.prefixURL=/chapter\/(.*\?ch\=)\d*/.exec(e)[1],this.indexURL=this.comicspageURL+this.pageURL,/#$/.test(e))window.history.replaceState("",document.title,"#/site/comics8/chapter/"+/chapter\/(.*)#$/.exec(e)[1]);else{document.getElementById("comics_panel").innerHTML="";for(var t=-1,n=0;n<this.state.menuItems.length;++n)if(this.state.menuItems[n].payload===this.baseURL+this.prefixURL+this.chapterNum&&-1===t){t=n,this.lastIndex=t,this._getImage(t,this.chapterNum);break}}},getChapter:function(e){return e.querySelectorAll(".Vol , .ch , #lch")},getChapterUrl:function(e){var t=/cview\(\'(.*-\d*\.html)\',(\d*)/.exec(e),n=t[2],r=t[1],o="";return(4==n||6==n||12==n||22==n)&&(o="http://new.comicvip.com/show/cool-"),(1==n||17==n||19==n||21==n)&&(o="http://new.comicvip.com/show/cool-"),(2==n||5==n||7==n||9==n)&&(o="http://new.comicvip.com/show/cool-"),(10==n||11==n||13==n||14==n)&&(o="http://new.comicvip.com/show/best-manga-"),(3==n||8==n||15==n||16==n||18==n||20==n)&&(o="http://new.comicvip.com/show/best-manga-"),r=r.replace(".html","").replace("-",".html?ch="),o+r},getTitleName:function(e){return e.querySelector("body > table:nth-child(7) > tbody > tr > td > table > tbody > tr:nth-child(1) > td:nth-child(2) > table:nth-child(1) > tbody > tr:nth-child(1) > td > table > tbody > tr > td:nth-child(2) > font").textContent},getCoverImg:function(e){return e.querySelector("body > table:nth-child(7) > tbody > tr > td > table > tbody > tr:nth-child(1) > td:nth-child(1) > img").src},setImages:function setImages(index,doc){var script=doc.evaluate('//*[@id="Form1"]/script/text()',doc,null,XPathResult.ANY_TYPE,null).iterateNext().textContent.split("eval")[0];eval(script);var ch=/.*ch\=(.*)/.exec(doc.URL)[1];ch.indexOf("#")>0&&(ch=ch.split("#")[0]);var p=1,f=50;ch.indexOf("-")>0&&(p=parseInt(ch.split("-")[1]),ch=ch.split("-")[0]),ch=""==ch?1:parseInt(ch);for(var ss=function(e,t,n,r){var o=e.substring(t,t+n);return null==r?o.replace(/[a-z]*/gi,""):o},nn=function(e){return 10>e?"00"+e:100>e?"0"+e:e},mm=function(e){return parseInt((e-1)/10)%10+(e-1)%10*3},c="",cc=cs.length,j=0;cc/f>j;j++)if(ss(cs,j*f,4)==ch){c=ss(cs,j*f,f,f),ci=j;break}""==c&&(c=ss(cs,cc-f,f),ch=c),ps=ss(c,7,3),this.pageMax=ps;for(var img=[],i=0;i<this.pageMax;++i){for(var c="",cc=cs.length,j=0;cc/f>j;j++)if(ss(cs,j*f,4)==ch){c=ss(cs,j*f,f,f),ci=j;break}""==c&&(c=ss(cs,cc-f,f),ch=chs),img[i]="http://img"+ss(c,4,2)+".8comic.com/"+ss(c,6,1)+"/"+ti+"/"+ss(c,0,4)+"/"+nn(i+1)+"_"+ss(c,mm(i+1)+10,3,f)+".jpg"}this.images=img,this.appendImage(index)},backgroundOnload:function(e,t,n,r,o){var i=n.response,s=this.getChapter(i),a=this.getTitleName(i),u=this.getCoverImg(i),c=[],l={},p={};p.payload=Comics_8.getChapterUrl(s[s.length-2].getAttribute("onclick")),p.text=s[s.length-1].textContent,c.push(p);for(var h=!1,d=0;d<t.length;++d)if(t[d].payload===p.payload){h=!0;break}if(h===!1&&t.length>0){var l={url:e,title:a,site:"comics8",iconUrl:u,lastReaded:p};chrome.notifications.create(p.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+l.lastReaded.text,imageUrl:u}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(l))}for(var f=s.length-3;f>=0;--f){var p={};p.payload=Comics_8.getChapterUrl(s[f].getAttribute("onclick")),p.text=s[f].textContent.trim(),c.push(p);for(var l={},h=!1,d=0;d<t.length;++d)if(t[d].payload===p.payload){h=!0;break}h===!1&&t.length>0&&(ObjectAssign(l,{url:e,title:a,site:"comics8",iconUrl:u,lastReaded:p}),chrome.notifications.create(p.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+l.lastReaded.text,imageUrl:u}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(l)))}r.collected[o].menuItems=c,chrome.storage.local.set(r)}};module.exports=comics},3:function(module,exports,__webpack_require__){var comics={regex:/http\:\/\/www\.manben\.com\/(m\d*\/)/,dm5regex:/http\:\/\/(tel||www)\.dm5\.com\/(m\d*\/)/,baseURL:"http://www.manben.com/",handleUrlHash:function(){var e=window.location.hash;if(this.site=/site\/(.*)\/chapter/.exec(e)[1],this.chapterURL=this.baseURL+/chapter\/(.*\/)/.exec(e)[1],/#$/.test(e))window.history.replaceState("",document.title,"#/site/dm5/chapter/"+/chapter\/(.*\/)/.exec(e)[1]);else{document.getElementById("comics_panel").innerHTML="";for(var t=-1,n=0;n<this.state.menuItems.length;++n)if(this.state.menuItems[n].payload===this.chapterURL&&-1===t){t=n,this.lastIndex=t,this._getImage(t,this.chapterURL);break}}},getChapter:function(e){var t=e.querySelectorAll(".nr6.lan2>li>.tg");return t},getTitleName:function(e){return e.querySelector(".inbt_title_h2").textContent},getCoverImg:function(e){return e.querySelector(".innr91>img").src},setImages:function setImages(index,xhr){var doc=xhr.response,script1=/<script type\=\"text\/javascript\">(.*)reseturl/.exec(doc.head.innerHTML)[1];eval(script1),this.pageMax=DM5_IMAGE_COUNT;for(var img=[],i=0;i<this.pageMax;++i)img[i]=doc.URL+"chapterfun.ashx?cid="+DM5_CID.toString()+"&page="+(i+1)+"&key=&language=1";this.images=img,this.appendImage(index)},backgroundOnload:function(e,t,n,r,o){for(var i=n.response,s=this.getChapter(i),a=this.getTitleName(i),u=this.getCoverImg(i),c=[],l=0;l<s.length;++l){var p={};p.payload=s[l].href,p.text=s[l].textContent,c.push(p);for(var h=!1,d=0;d<t.length;++d)if(t[d].payload===p.payload){h=!0;break}if(h===!1&&t.length>0){var f={url:e,title:a,site:"dm5",iconUrl:u,lastReaded:p};chrome.notifications.create(p.payload,{type:"image",iconUrl:"img/comics-64.png",title:"Comics Update",message:a+"  "+f.lastReaded.text,imageUrl:u}),chrome.storage.local.get("update",function(e){e.update.push(this);var t=e.update.length.toString();chrome.browserAction.setBadgeText({text:t}),chrome.storage.local.set(e)}.bind(f))}}r.collected[o].menuItems=c,chrome.storage.local.set(r)}};module.exports=comics},13:function(e,t,n){e.exports={"default":n(148),__esModule:!0}},148:function(e,t,n){n(269),e.exports=n(270).core.Object.assign},269:function(e,t,n){var r=n(321);r(r.S,"Object",{assign:n(322)})},270:function(e,t,n){"use strict";function r(e){return isNaN(e=+e)?0:(e>0?m:f)(e)}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function i(e,t,n){return e[t]=n,e}function s(e){return y?function(t,n,r){return E.setDesc(t,n,o(e,r))}:i}function a(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function u(e){return"function"==typeof e}function c(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var l="undefined"!=typeof self?self:Function("return this")(),p={},h=Object.defineProperty,d={}.hasOwnProperty,f=Math.ceil,m=Math.floor,v=Math.max,g=Math.min,y=!!function(){try{return 2==h({},"a",{get:function(){return 2}}).a}catch(e){}}(),_=s(1),E=e.exports=n(320)({g:l,core:p,html:l.document&&document.documentElement,isObject:a,isFunction:u,it:function(e){return e},that:function(){return this},toInteger:r,toLength:function(e){return e>0?g(r(e),9007199254740991):0},toIndex:function(e,t){return e=r(e),0>e?v(e+t,0):g(e,t)},has:function(e,t){return d.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:y,desc:o,getDesc:Object.getOwnPropertyDescriptor,setDesc:h,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:c,ES5Object:Object,toObject:function(e){return E.ES5Object(c(e))},hide:_,def:s(0),set:l.Symbol?i:_,mix:function(e,t){for(var n in t)_(e,n,t[n]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=p),"undefined"!=typeof __g&&(__g=l)},320:function(e,t,n){e.exports=function(e){return e.FW=!1,e.path=e.core,e}},321:function(e,t,n){function r(e,t){return function(){return e.apply(t,arguments)}}function o(e,t,n){var c,l,p,h,d=e&o.G,f=d?s:e&o.S?s[t]:(s[t]||{}).prototype,m=d?a:a[t]||(a[t]={});d&&(n=t);for(c in n)l=!(e&o.F)&&f&&c in f,l&&c in m||(p=l?f[c]:n[c],d&&!u(f[c])?h=n[c]:e&o.B&&l?h=r(p,s):e&o.W&&f[c]==p?!function(e){h=function(t){return this instanceof e?new e(t):e(t)},h.prototype=e.prototype}(p):h=e&o.P&&u(p)?r(Function.call,p):p,i.hide(m,c,h))}var i=n(270),s=i.g,a=i.core,u=i.isFunction;o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,e.exports=o},322:function(e,t,n){var r=n(270),o=n(340);e.exports=Object.assign||function(e,t){for(var n=Object(r.assertDefined(e)),i=arguments.length,s=1;i>s;)for(var a,u=r.ES5Object(arguments[s++]),c=o(u),l=c.length,p=0;l>p;)n[a=c[p++]]=u[a];return n}},340:function(e,t,n){var r=n(270);e.exports=function(e){var t=r.getKeys(e),n=r.getDesc,o=r.getSymbols;return o&&r.each.call(o(e),function(r){n(e,r).enumerable&&t.push(r)}),t}}});